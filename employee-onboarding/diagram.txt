┌──────────────────────────────┐
│ CloudEvent arrives           │
│ ce-type = startOnboarding    │
└──────────┬───────────────────┘
           │ invokes
           ▼
┌──────────────────────────────┐
│ collectDocuments(Employee e) │
│ - Capture ID, tax forms      │
│ - Verify completeness        │
└──────────┬───────────────────┘
           │ emits
           ▼
┌────────────────────────────────────────────┐
│ CloudEvent emitted                         │
│ ce-type = collectDocuments.output          │
│ ce-source = collectDocuments               │
└──────────┬─────────────────────────────────┘
           │ triggers config mapping
           ▼
┌──────────────────────────────┐
│ provisionAccounts(Employee e)│
│ - Create email, VPN, laptop  │
│ - Assign software licenses   │
└──────────┬───────────────────┘
           │ emits
           ▼
┌────────────────────────────────────────────┐
│ CloudEvent emitted                         │
│ ce-type = provisioned                      │
│ ce-source = accountProvisionMapping        │
└──────────┬─────────────────────────────────┘
           │ matches @CloudEventMapping(trigger="provisioned")
           ▼
┌──────────────────────────────┐
│ scheduleOrientation(Employee)│
│ - Add to HR orientation      │
│ - Notify manager             │
└──────────┬───────────────────┘
           │ emits
           ▼
┌────────────────────────────────────────────┐
│ CloudEvent emitted                         │
│ ce-type = scheduled                        │
│ ce-source = scheduleOrientation            │
└──────────┬─────────────────────────────────┘
           │ triggers final handler
           ▼
┌──────────────────────────────┐
│ finalizeOnboarding(Employee) │
│ - Mark "Active Employee"     │
│ - Notify payroll + IT        │
└──────────────────────────────┘
